<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>King Kong - Comment Manager</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>🦍 King Kong</h1>
        <p>YouTube Comment Manager</p>
      </header>

      <!-- Tab Navigation -->
      <div class="tab-navigation">
        <button class="tab-button active" data-tab="filter">
          <span class="tab-icon">🚫</span>
          Filter
        </button>
        <button class="tab-button" data-tab="highlight">
          <span class="tab-icon">✨</span>
          Highlight
        </button>
      </div>

      <!-- Filter Status (only shown on filter tab) -->
      <div class="status">
        <label class="toggle">
          <input type="checkbox" id="enableFilter" />
          <span class="slider"></span>
        </label>
        <span id="statusText">Filter Disabled</span>
      </div>

      <!-- Search Bar Status (only shown on filter tab) -->
      <div class="status search-status">
        <label class="toggle">
          <input type="checkbox" id="enableSearchBar" />
          <span class="slider"></span>
        </label>
        <span id="searchStatusText">Search Bar Disabled</span>
        <div class="tooltip" id="searchTooltip">
          <span class="tooltip-icon"></span>
          <div class="tooltip-content">
            <strong>Search Feature:</strong><br />
            • Only searches through already loaded comments<br />
            • YouTube loads comments as you scroll<br />
            • For best results, scroll down first to load more comments
          </div>
        </div>
      </div>

      <!-- Filter Tab Content -->
      <div id="filterTab" class="tab-content active">
        <div class="section">
          <h3>Filter Patterns</h3>

          <!-- Add Pattern Button -->
          <button id="showFilterFormBtn" class="btn-primary">
            <span class="btn-icon">➕</span>
            Add Filter Pattern
          </button>

          <!-- Add Pattern Form -->
          <div id="addFilterForm" class="add-pattern-form hidden">
            <div class="input-group">
              <input
                type="text"
                id="filterPatternTitle"
                placeholder="Pattern title (e.g., 'Spam Comments')"
              />
            </div>
            <div class="input-group">
              <input
                type="text"
                id="filterRegexInput"
                placeholder="Enter regex pattern (e.g., spam|bot|fake)"
              />
              <button id="addFilterPattern">Add</button>
              <button id="cancelFilterAdd" class="btn-cancel">Cancel</button>
            </div>
            <div class="help-text">
              Examples: <code>spam|bot</code>, <code>\b(buy|sale)\b</code>,
              <code>^.*promote.*$</code>
            </div>
          </div>
        </div>

        <div class="section">
          <h3>Active Filter Patterns</h3>
          <div id="filterPatternsList" class="patterns-list">
            <div class="empty-state">No filter patterns added yet</div>
          </div>
        </div>

        <div class="stats">
          <div class="stat-item">
            <span class="stat-label">Comments Filtered:</span>
            <span id="filteredCount">0</span>
          </div>
        </div>

        <footer>
          <button id="clearAllFilter" class="btn-secondary">Clear All</button>
          <button id="loadDefaultsFilter" class="btn-secondary">
            Load Defaults
          </button>
          <button id="exportFilter" class="btn-secondary">Export</button>
          <button id="importFilter" class="btn-secondary">Import</button>
        </footer>
      </div>

      <!-- Highlight Tab Content -->
      <div id="highlightTab" class="tab-content">
        <div class="section">
          <h3>Highlight Patterns</h3>

          <!-- Add Pattern Button -->
          <button id="showHighlightFormBtn" class="btn-primary">
            <span class="btn-icon">🎨</span>
            Add Highlight Pattern
          </button>

          <!-- Add Pattern Form -->
          <div id="addHighlightForm" class="add-pattern-form hidden">
            <div class="input-group">
              <input
                type="text"
                id="highlightPatternTitle"
                placeholder="Pattern title (e.g., 'Important Keywords')"
              />
            </div>
            <div class="input-group">
              <input
                type="color"
                id="highlightColorInput"
                value="#ff6b6b"
                title="Choose highlight color"
              />
              <button
                id="randomHighlightColor"
                class="btn-icon-small"
                title="Random Color"
              >
                🎲
              </button>
              <input
                type="text"
                id="highlightRegexInput"
                placeholder="Enter regex pattern (e.g., thanks|helpful)"
                style="flex: 1"
              />
            </div>
            <div class="input-group">
              <button id="addHighlightPattern">Add Pattern</button>
              <button id="cancelHighlightAdd" class="btn-cancel">Cancel</button>
            </div>
            <div class="help-text">
              Examples: <code>thanks|helpful</code>,
              <code>\b(great|awesome)\b</code>,
              <code>^.*question.*$</code>
            </div>
          </div>
        </div>

        <div class="section">
          <h3>Active Highlight Patterns</h3>
          <div id="highlightPatternsList" class="patterns-list">
            <div class="empty-state">No highlight patterns added yet</div>
          </div>
        </div>

        <footer>
          <button id="clearAllHighlight" class="btn-secondary">
            Clear All
          </button>
          <button id="exportHighlight" class="btn-secondary">Export</button>
          <button id="importHighlight" class="btn-secondary">Import</button>
        </footer>
      </div>
    </div>

    <!-- Include all JavaScript modules -->
    <script src="js/storage.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/tab-manager.js"></script>
    <script src="js/filter-manager.js"></script>
    <script src="js/highlight-manager.js"></script>
    <script src="js/search-manager.js"></script>
    <script src="popup.js"></script>
  </body>
</html>
